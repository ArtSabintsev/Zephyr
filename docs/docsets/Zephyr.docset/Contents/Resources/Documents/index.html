<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Zephyr  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Zephyr  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Zephyr Docs</a> (78% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Zephyr Reference</a>
        <img id="carat" src="img/carat.png" />
        Zephyr  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Zephyr.html">Zephyr</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='zephyr-Ô∏è' class='heading'>Zephyr üå¨Ô∏è</h1>
<h3 id='effortlessly-sync-userdefaults-over-icloud' class='heading'>Effortlessly sync UserDefaults over iCloud</h3>

<p><img src="https://img.shields.io/badge/Swift-5.1%2C%205.0%2C%204.2%2C%204.1%2C%203.2%2C%203.1-orange.svg" alt="Swift Support"> <a href="http://cocoadocs.org/docsets/Zephyr"><img src="https://img.shields.io/badge/Platforms-iOS%20%7c%20tvOS-lightgray.svg?style=flat" alt="Platform"></a> <img src="https://github.com/ArtSabintsev/Zephyr/blob/master/docs/badge.svg" alt="Documentation"></p>

<p><a href=""><img src="https://img.shields.io/cocoapods/v/Zephyr.svg" alt="CocoaPods"></a>  <a href=""><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage Compatible"></a> <a href="https://swift.org/package-manager/"><img src="https://img.shields.io/badge/SwiftPM-Compatible-brightgreen.svg" alt="SwiftPM Compatible"></a></p>

<hr>
<h3 id='about' class='heading'>About</h3>

<p>Zephyr synchronizes specific keys and/or all of your <a href="https://developer.apple.com/documentation/foundation/userdefaults">UserDefaults</a> over iCloud using <a href="https://developer.apple.com/library/ios/documentation/Foundation/Reference/NSUbiquitousKeyValueStore_class/">NSUbiquitousKeyValueStore</a>.</p>

<p>Zephyr has built in monitoring, allowing it to sync specific keys in the background as they change.</p>

<p>For the latest updates, refer to the <a href="https://github.com/ArtSabintsev/Zephyr/releases">Releases</a> tab.</p>
<h3 id='features' class='heading'>Features</h3>

<ul>
<li>[x] CocoaPods, Carthage, and SwiftPM Support</li>
<li>[x] Syncs specific <code>UserDefaults</code> keys or all of your <code>UserDefaults</code>.</li>
<li>[x] Background monitoring and synchronization between <code>UserDefaults</code> and <code>NSUbiquitousKeyValueStore</code></li>
<li>[x] Detailed Logging</li>
<li>[x] Documentation at <a href="http://sabintsev.com/Zephyr/">http://sabintsev.com/Zephyr/</a></li>
</ul>
<h3 id='installation-instructions' class='heading'>Installation Instructions</h3>

<table><thead>
<tr>
<th>Swift Version</th>
<th>Branch Name</th>
<th>Will Continue to Receive Updates?</th>
</tr>
</thead><tbody>
<tr>
<td>5.1</td>
<td>swift5.1</td>
<td><strong>Yes</strong></td>
</tr>
<tr>
<td>5.0</td>
<td>swift5.0</td>
<td>No</td>
</tr>
<tr>
<td>4.2</td>
<td>swift4.2</td>
<td>No</td>
</tr>
<tr>
<td>4.1</td>
<td>swift4.1</td>
<td>No</td>
</tr>
<tr>
<td>3.2</td>
<td>swift3.2</td>
<td>No</td>
</tr>
<tr>
<td>3.1</td>
<td>swift3.1</td>
<td>No</td>
</tr>
</tbody></table>
<h4 id='cocoapods' class='heading'>CocoaPods</h4>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'Zephyr'</span> <span class="c1"># Swift 5.1</span>
<span class="n">pod</span> <span class="s1">'Zephyr'</span><span class="p">,</span> <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s1">'https://github.com/ArtSabintsev/Zephyr.git'</span><span class="p">,</span> <span class="ss">:branch</span> <span class="o">=&gt;</span> <span class="s1">'swift5.0'</span> <span class="c1"># Swift 5.0</span>
<span class="n">pod</span> <span class="s1">'Zephyr'</span><span class="p">,</span> <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s1">'https://github.com/ArtSabintsev/Zephyr.git'</span><span class="p">,</span> <span class="ss">:branch</span> <span class="o">=&gt;</span> <span class="s1">'swift4.2'</span> <span class="c1"># Swift 4.2</span>
<span class="n">pod</span> <span class="s1">'Zephyr'</span><span class="p">,</span> <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s1">'https://github.com/ArtSabintsev/Zephyr.git'</span><span class="p">,</span> <span class="ss">:branch</span> <span class="o">=&gt;</span> <span class="s1">'swift4.1'</span> <span class="c1"># Swift 4.1</span>
<span class="n">pod</span> <span class="s1">'Zephyr'</span><span class="p">,</span> <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s1">'https://github.com/ArtSabintsev/Zephyr.git'</span><span class="p">,</span> <span class="ss">:branch</span> <span class="o">=&gt;</span> <span class="s1">'swift3.2'</span> <span class="c1"># Swift 3.2</span>
<span class="n">pod</span> <span class="s1">'Zephyr'</span><span class="p">,</span> <span class="ss">:git</span> <span class="o">=&gt;</span> <span class="s1">'https://github.com/ArtSabintsev/Zephyr.git'</span><span class="p">,</span> <span class="ss">:branch</span> <span class="o">=&gt;</span> <span class="s1">'swift3.1'</span> <span class="c1"># Swift 3.1</span>
</code></pre>
<h3 id='carthage' class='heading'>Carthage</h3>
<pre class="highlight swift"><code><span class="n">github</span> <span class="s">"ArtSabintsev/Zephyr"</span> <span class="c1">// Swift 5.1</span>
<span class="n">github</span> <span class="s">"ArtSabintsev/Zephyr"</span> <span class="s">"swift5.0"</span> <span class="c1">// Swift 5.0</span>
<span class="n">github</span> <span class="s">"ArtSabintsev/Zephyr"</span> <span class="s">"swift4.2"</span> <span class="c1">// Swift 4.2</span>
<span class="n">github</span> <span class="s">"ArtSabintsev/Zephyr"</span> <span class="s">"swift4.1"</span> <span class="c1">// Swift 4.1</span>
<span class="n">github</span> <span class="s">"ArtSabintsev/Zephyr"</span> <span class="s">"swift3.2"</span> <span class="c1">// Swift 3.2</span>
<span class="n">github</span> <span class="s">"ArtSabintsev/Zephyr"</span> <span class="s">"swift3.1"</span> <span class="c1">// Swift 3.1</span>
</code></pre>
<h3 id='swift-package-manager' class='heading'>Swift Package Manager</h3>
<pre class="highlight swift"><code><span class="o">.</span><span class="kt">Package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/ArtSabintsev/Zephyr.git"</span><span class="p">,</span> <span class="nv">majorVersion</span><span class="p">:</span> <span class="mi">3</span><span class="p">)</span>
</code></pre>
<h4 id='manual' class='heading'>Manual</h4>

<ol>
<li><a href="http://github.com/ArtSabintsev/Zephyr/archive/master.zip">Download Zephyr</a></li>
<li>Copy <code>Zephyr.swift</code> into your project.</li>
</ol>
<h3 id='setup' class='heading'>Setup</h3>
<h4 id='turn-on-icloud-sync-in-xcode' class='heading'>Turn on iCloud Sync in Xcode</h4>

<p>In Xcode, open your app&rsquo;s project/workspace file:</p>

<ul>
<li>Click on your Project</li>
<li>Click on one of your Targets</li>
<li>Click on Capabilities</li>
<li>Turn on iCloud syncing</li>
<li>Under Services, make sure to check <code>Key-value storage</code></li>
<li>Repeat for all Targets (if necessary)</li>
</ul>

<p><img src="https://github.com/ArtSabintsev/Zephyr/blob/master/Assets/XcodeSettings.png?raw=true" alt="How to turn on iCloud Key Value Store Syncing" title="How to turn on iCloud Key Value Store Syncing"></p>
<h4 id='integrate-zephyr-into-your-app' class='heading'>Integrate Zephyr into your App</h4>

<p>Before performing each sync, Zephyr automatically checks to see if the data in UserDefaults or NSUbiquitousKeyValueStore is newer. To make sure there&rsquo;s no overwriting going on in a fresh installation of your app on a new device that&rsquo;s connected to the same iCloud account, make sure that your UserDefaults are registered <strong><em>BEFORE</em></strong> calling any of the Zephyr methods. One way to easily achieve this is by using the <a href="https://developer.apple.com/documentation/foundation/userdefaults/1417065-register">UserDefaults Register API</a>.</p>

<p><strong>Sync all UserDefaults</strong></p>
<pre class="highlight plaintext"><code>Zephyr.sync()
</code></pre>

<p><strong>Sync a specific key or keys (Variadic Option)</strong></p>
<pre class="highlight plaintext"><code>Zephyr.sync(keys: "MyFirstKey", "MySecondKey", ...)
</code></pre>

<p><strong>Sync a specific key or keys (Array Option)</strong></p>
<pre class="highlight plaintext"><code>Zephyr.sync(keys: ["MyFirstKey", "MySecondKey"])
</code></pre>

<p><strong>Add/Remove Keys for Background Monitoring (Variadic Option)</strong></p>
<pre class="highlight plaintext"><code>Zephyr.addKeysToBeMonitored(keys: "MyFirstKey", "MySecondKey", ...)
Zephyr.removeKeysFromBeingMonitored(keys: "MyFirstKey", "MySecondKey", ...)
</code></pre>

<p><strong>Add/Remove Keys for Background Monitoring (Array Option)</strong></p>
<pre class="highlight plaintext"><code>Zephyr.addKeysToBeMonitored(keys: ["MyFirstKey", "MySecondKey"])
Zephyr.removeKeysFromBeingMonitored(keys: ["MyFirstKey", "MySecondKey"])
</code></pre>

<p><strong>Toggle Automatic Calling of NSUbiquitousKeyValueStore&rsquo;s Synchronization method</strong></p>
<pre class="highlight plaintext"><code>Zephyr.syncUbiquitousKeyValueStoreOnChange = true // Default
Zephyr.syncUbiquitousKeyValueStoreOnChange = false // Turns off instantaneous synchronization
</code></pre>

<p><strong>Debug Logging</strong></p>
<pre class="highlight plaintext"><code>Zephyr.debugEnabled = true // Must be called before sync(_:)
Zephyr.sync()
</code></pre>
<h3 id='sample-app' class='heading'>Sample App</h3>

<p>Please ignore the Sample App as I did not add any demo code in the Sample App. It&rsquo;s only in this repo to add support for Carthage.</p>
<h3 id='created-and-maintained-by' class='heading'>Created and maintained by</h3>

<p><a href="http://www.sabintsev.com/">Arthur Ariel Sabintsev</a></p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="https://github.com/ArtSabintsev/Zephyr" target="_blank" rel="external">Arthur Ariel Sabintsev</a>. All rights reserved. (Last updated: 2019-09-15)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ‚ô™‚ô´ v0.11.0</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
